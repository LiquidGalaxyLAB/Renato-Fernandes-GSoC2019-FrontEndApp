{"version":3,"sources":["webpack:///./src/views/SensorEdit.vue?07a2","webpack:///src/views/SensorEdit.vue","webpack:///./src/views/SensorEdit.vue?5a89","webpack:///./src/views/SensorEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","grid-list-xs","row","wrap","xs5","label","placeholder","outline","model","value","callback","$$v","name","expression","desc","items","units","target","unit","flat","color","on","click","edit","_v","offset-xs1","xs6","xs12","lat","lataux","lng","lngaux","editable","setMark","_e","staticRenderFns","Google_default","a","KEY","LIBRARIES","SensorEditvue_type_script_lang_js_","data","imagelist","oldname","isFetching","methods","_data","store","$store","state","vue","user","latlng","Object","defineProperty","selectedimg","console","log","axios","post","withCredentials","then","result","catch","err","created","_this","vm","get","$options","propsData","nameOld","description","img","imgId","location","x","y","load","google","maps","LatLng","setInterval","window","href","components","GridList","ImageGrid","gmap","props","String","views_SensorEditvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","installComponents_default","VBtn","VContainer","VFlex","VLayout","VOverflowBtn","VTextField","VTextarea"],"mappings":"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","file":"js/chunk-2d0b1bc4.1fcdc7ce.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"grid-list-xs\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs5\":\"\"}},[_c('br'),_c('br'),_c('v-text-field',{attrs:{\"label\":\"Name\",\"placeholder\":\"Sensor Name\",\"outline\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-textarea',{attrs:{\"outline\":\"\",\"name\":\"input-7-4\",\"label\":\"Description\",\"placeholder\":\"Description about the sensor\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}}),_c('v-overflow-btn',{attrs:{\"items\":_vm.units,\"label\":\"Unit\",\"target\":\"#dropdown-example\"},model:{value:(_vm.unit),callback:function ($$v) {_vm.unit=$$v},expression:\"unit\"}}),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"success\"},on:{\"click\":_vm.edit}},[_vm._v(\"Register\")])],1),_c('v-flex',{attrs:{\"offset-xs1\":\"\",\"xs6\":\"\"}},[_c('GridList')],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[(_vm.isFetching)?_c('gmap',{attrs:{\"lat\":_vm.lataux,\"lng\":_vm.lngaux,\"editable\":true,\"setMark\":true}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container grid-list-xs>\r\n    <v-layout row wrap>\r\n      <v-flex xs5>\r\n        <br />\r\n        <br />\r\n        <v-text-field v-model=\"name\" label=\"Name\" placeholder=\"Sensor Name\" outline></v-text-field>\r\n        <v-textarea\r\n          outline\r\n          name=\"input-7-4\"\r\n          label=\"Description\"\r\n          placeholder=\"Description about the sensor\"\r\n          v-model=\"desc\"\r\n        ></v-textarea>\r\n        <v-overflow-btn v-model=\"unit\" :items=\"units\" label=\"Unit\" target=\"#dropdown-example\"></v-overflow-btn>\r\n        <v-btn flat color=\"success\" @click=\"edit\">Register</v-btn>\r\n      </v-flex>\r\n      <v-flex offset-xs1 xs6>\r\n        <GridList />\r\n      </v-flex>\r\n      <v-flex xs12>\r\n        <gmap v-if=\"isFetching\" :lat=\"lataux\" :lng=\"lngaux\" :editable=\"true\" :setMark=\"true\" />\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport GridList from \"../components/ImageGrid\";\r\nimport gmap from \"../components/maps\";\r\nimport GoogleMapsLoader from \"google-maps\";\r\nGoogleMapsLoader.KEY = \"AIzaSyCX0EVea8pRdiSdso5s78fahE7VTm0YtaA\";\r\nGoogleMapsLoader.LIBRARIES = [\"places\"];\r\nexport default {\r\n  data() {\r\n    return {\r\n      units: [\"Celcius\", \"Farenheit\", \"Kelvin\", \"KM/h\"],\r\n      imagelist: null,\r\n      name: null,\r\n      unit: null,\r\n      desc: null,\r\n      lataux: null,\r\n      lngaux: null,\r\n      oldname: null,\r\n      isFetching: false\r\n    };\r\n  },\r\n  methods: {\r\n    edit: function() {\r\n      var store = this.$store.state;\r\n      var vue = this;\r\n      var data = {\r\n        oldname: this.oldname,\r\n        name: store.user,\r\n        lat: store.latlng.lat(),\r\n        lng: store.latlng.lng(),\r\n        name: vue.name,\r\n        desc: vue.desc,\r\n        unit: vue.unit,\r\n        img: store.selectedimg\r\n      };\r\n      console.log(data);\r\n\r\n      this.axios\r\n        .post(process.env.VUE_APP_backEnd+\"/data/editsensor\", data, {\r\n          withCredentials: true\r\n        })\r\n        .then(result => {\r\n          console.log(\"Sucess!\");\r\n\r\n          // window.location.href='/sensorlist'\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  },\r\n  created() {\r\n    var vm = this;\r\n    this.axios\r\n      .get(process.env.VUE_APP_backEnd+\"/auth/check\", { withCredentials: true })\r\n      .then(result => {\r\n        console.log(this.$options.propsData.nameOld);\r\n        this.axios\r\n          .get(\r\n            process.env.VUE_APP_backEnd+\"/getSensorInfo?name=\" +\r\n              vm.$options.propsData.nameOld\r\n          )\r\n          .then(result => {\r\n            var data = result.data.result;\r\n            let vm = this;\r\n            this.unit = data.unit;\r\n            this.name = data.name;\r\n            this.oldname = data.name;\r\n            this.desc = data.description;\r\n            this.img = data.imgId;\r\n            this.lataux = data.location.x;\r\n            this.lngaux = data.location.y;\r\n            GoogleMapsLoader.load(function(google) {\r\n              vm.$store.state.latlng = new google.maps.LatLng(\r\n                data.location.x,\r\n                data.location.y\r\n              );\r\n            });\r\n            console.log(result);\r\n            setInterval(() => {\r\n              console.log(this.$store.state.latlng);\r\n            }, 1000);\r\n\r\n            this.isFetching = true;\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Erro\");\r\n\r\n        console.log(err);\r\n        window.location.href = \"/signin\";\r\n      });\r\n  },\r\n  components: {\r\n    GridList,\r\n    gmap\r\n  },\r\n  props: {\r\n    nameOld: String\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SensorEdit.vue?vue&type=template&id=98874314&\"\nimport script from \"./SensorEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./SensorEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/d/Codes/Repositories/Renato-Fernandes-GSoC2019-FrontEndApp/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VOverflowBtn } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VTextarea } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VContainer,VFlex,VLayout,VOverflowBtn,VTextField,VTextarea})\n"],"sourceRoot":""}